(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(e,t,a){e.exports=a(290)},124:function(e,t,a){},125:function(e,t,a){},290:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(17),o=a.n(r),i=(a(124),a(22)),s=a(23),c=a(25),u=a(24),m=a(26),d=(a(125),a(37)),p=a.n(d),h=a(112),g=a.n(h),E=a(27),f=a.n(E),_=a(14),b=a.n(_),x=a(15),v=a.n(x),y=a(18),D=a.n(y),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.piechartData,a=this.props.callCount;return l.a.createElement("header",{className:"App-header",onClick:function(){return e.props.toggle_sidebar()}},l.a.createElement(f.a,null,l.a.createElement(b.a,null,l.a.createElement(D.a,{container:!0,justify:"center"},l.a.createElement(v.a,{style:{fontSize:"30px",color:"white"}},"Possible Failure Detection"))),l.a.createElement(b.a,null,l.a.createElement(D.a,{container:!0,justify:"center"},l.a.createElement("p",null,"Arrived calls: ",a))),l.a.createElement(b.a,null,l.a.createElement(D.a,{container:!0,justify:"center"},l.a.createElement(g.a,{style:{height:"300px"},onClick:function(t,a,n){return e.props.piechart_tapped(t,a,n,"piechartData")},data:t,label:!0,labelStyle:{fontSize:"5px",fontFamily:"sans-serif",fill:"#121212"}}))),t.map(function(e,t){return l.a.createElement(b.a,{key:t},l.a.createElement(D.a,{container:!0,justify:"center"},l.a.createElement(v.a,{style:{fontSize:"20px",color:"white"}},e.value,' queries related to "',e.description,'"')))})))}}]),t}(n.Component),C=a(116),O=a.n(C),w=a(113),j=a.n(w),k=a(115),F=a.n(k),P=a(36),q=a(72),V=a.n(q),B=a(114),K=a.n(B),A=Object(P.withStyles)(function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:e.spacing.unit,top:e.spacing.unit,color:e.palette.grey[500]}}})(function(e){var t=e.children,a=e.classes,n=e.onClose;return l.a.createElement(j.a,{disableTypography:!0,className:a.root},l.a.createElement(v.a,{variant:"h6"},t),n?l.a.createElement(V.a,{"aria-label":"Close",className:a.closeButton,onClick:n},l.a.createElement(K.a,null)):null)}),I=Object(P.withStyles)(function(e){return{root:{margin:0,padding:5*e.spacing.unit}}})(F.a),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.data;return l.a.createElement("div",null,l.a.createElement(O.a,{onClose:this.props.close_modal,"aria-labelledby":"customized-dialog-title",open:t},l.a.createElement(A,{id:"customized-dialog-title",onClose:this.props.close_modal},a?a.title:""),l.a.createElement(I,null,l.a.createElement(v.a,{gutterBottom:!0},l.a.createElement("b",null,"Description")," ",a?a.description:""),l.a.createElement(v.a,{gutterBottom:!0},l.a.createElement("b",null,"Sample count")," ",a?a.value:""))))}}]),t}(l.a.Component),U=a(118),z=a(117),N=a.n(z),R=a(41),T=a.n(R),W=a(42),J=a.n(W),G=a(44),L=a.n(G),$=a(46),H=a.n($),Q=a(43),X=a.n(Q),Y=a(28),Z=a.n(Y),ee=a(45),te=a.n(ee),ae=a(40),ne=a.n(ae),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).start_recording=function(){a.setState({record:!0})},a.stop_recording=function(){a.setState({record:!1})},a.on_data=function(e){},a.on_stop=function(e){a.setState({blobUrl:e.blobURL})},a.handle_expansion_panel=function(e){return function(t,n){a.setState({expanded:!!n&&e}),a.props.reset_message()}},a.handle_text_change=function(e){a.setState({textFieldData:e.target.value})},a.handle_upload=function(e){console.log(e),a.setState({uploadedFile:e.target.files[0]})},a.state={expanded:!1,textFieldData:"",record:!1,blobUrl:"",uploadedFile:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.open,n=t.isProgressVisible,r=t.messageData;return l.a.createElement(N.a,{open:a,onClose:function(){return e.props.toggle_sidebar()}},l.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{margin:20}},"Analyze new audio file"),l.a.createElement(T.a,{square:!0,expanded:"panel1"===this.state.expanded,onChange:this.handle_expansion_panel("panel1")},l.a.createElement(J.a,{expandIcon:l.a.createElement(X.a,null)},l.a.createElement(v.a,{color:"primary",variant:"subtitle1"},"Upload recorded file")),l.a.createElement(L.a,null,l.a.createElement(f.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement("b",null,"Record audio from mic"))),l.a.createElement(b.a,null,l.a.createElement(U.a,{record:this.state.record,className:"sound-wave",onStop:this.on_stop,onData:this.on_data,strokeColor:"#000000",backgroundColor:"#52BE80"})),l.a.createElement(b.a,null,l.a.createElement(D.a,{container:!0,spacing:8},l.a.createElement(D.a,{item:!0,xs:4},l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.start_recording()}},"Start recording")),l.a.createElement(D.a,{item:!0,xs:4},l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.stop_recording()},style:{alignItems:"flex-end"}},"Stop recording")),l.a.createElement(D.a,{item:!0,xs:4},l.a.createElement("a",{href:this.state.blobUrl,download:"Untitled.wav",style:{textDecoration:"none"}},l.a.createElement(Z.a,{variant:"contained",color:"primary"},"Download recording"))))),l.a.createElement(b.a,null,n?l.a.createElement(te.a,null):null,l.a.createElement(v.a,{color:r&&"OK"===r.status?"default":"error"},r?r.message:null)),l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement("b",null,"* Enter .wav filename without extension"))),l.a.createElement(b.a,null,l.a.createElement(H.a,{id:"outlined-name",label:"Audio Filename",value:this.state.textFieldData,onChange:function(t){return e.handle_text_change(t)},margin:"normal",variant:"outlined",required:!0})),l.a.createElement(b.a,null,l.a.createElement(D.a,{container:!0,spacing:40},l.a.createElement(D.a,{item:!0,xs:6},l.a.createElement(ne.a,{accept:"audio/wav",type:"file",onChange:function(t){return e.handle_upload(t)},placeholder:"abc"})),l.a.createElement(D.a,{item:!0,xs:6},l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.props.upload_audio_file(e.state.textFieldData,e.state.uploadedFile)}},"Upload"))))))),l.a.createElement(T.a,{square:!0,expanded:"panel2"===this.state.expanded,onChange:this.handle_expansion_panel("panel2")},l.a.createElement(J.a,{expandIcon:l.a.createElement(X.a,null)},l.a.createElement(v.a,{color:"primary",variant:"subtitle1"},"Speech-to-Text")),l.a.createElement(L.a,null,l.a.createElement(f.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement("b",null,"* Enter .wav filename without extension"))),l.a.createElement(b.a,null,n?l.a.createElement(te.a,null):null,l.a.createElement(v.a,{width:300,color:r&&"OK"===r.status?"default":"error"},r?r.message:null)),l.a.createElement(b.a,null,l.a.createElement(H.a,{id:"outlined-name",label:"WAV Filename",value:this.state.textFieldData,onChange:function(t){return e.handle_text_change(t)},margin:"normal",variant:"outlined",required:!0})),l.a.createElement(b.a,null,l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.props.convert_speech_to_text(e.state.textFieldData)}},"Send"))))),l.a.createElement(T.a,{square:!0,expanded:"panel3"===this.state.expanded,onChange:this.handle_expansion_panel("panel3")},l.a.createElement(J.a,{expandIcon:l.a.createElement(X.a,null)},l.a.createElement(v.a,{color:"primary",variant:"subtitle1"},"Entity Extraction")),l.a.createElement(L.a,null,l.a.createElement(f.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement("b",null,"* Enter unprocessed .txt filename without extension"))),l.a.createElement(b.a,null,n?l.a.createElement(te.a,null):null,l.a.createElement(v.a,{color:r&&"OK"===r.status?"default":"error"},r?r.message:null)),l.a.createElement(b.a,null,l.a.createElement(H.a,{id:"outlined-name",label:"Text Filename",value:this.state.textFieldData,onChange:function(t){return e.handle_text_change(t)},margin:"normal",variant:"outlined",required:!0})),l.a.createElement(b.a,null,l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.props.find_entities(e.state.textFieldData)}},"Send"))))),l.a.createElement(T.a,{square:!0,expanded:"panel4"===this.state.expanded,onChange:this.handle_expansion_panel("panel4")},l.a.createElement(J.a,{expandIcon:l.a.createElement(X.a,null)},l.a.createElement(v.a,{color:"primary",variant:"subtitle1"},"Sentence Clustering")),l.a.createElement(L.a,null,l.a.createElement(f.a,null,l.a.createElement(b.a,null,l.a.createElement(v.a,null,l.a.createElement("b",null,"* Enter .txt filename without extension"))),l.a.createElement(b.a,null,n?l.a.createElement(te.a,null):null,l.a.createElement(v.a,{color:r&&"OK"===r.status?"default":"error"},r?r.message:null)),l.a.createElement(b.a,null,l.a.createElement(H.a,{id:"outlined-name",label:"Text Filename",value:this.state.textFieldData,onChange:function(t){return e.handle_text_change(t)},margin:"normal",variant:"outlined",required:!0})),l.a.createElement(b.a,null,l.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){return e.props.cluster_sentence(e.state.textFieldData)}},"Send"))))))}}]),t}(n.Component),re=Object(P.withStyles)(function(e){return{root:{flexGrow:1},paper:{padding:2*e.spacing.unit,textAlign:"center",color:e.palette.text.secondary}}})(le),oe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).reset_message=function(){a.setState({messageData:{}})},a.close_modal=function(){a.setState({isModalOpen:!1})},a.toggle_sidebar=function(){},a.piechart_tapped=function(e,t,n,l){e.stopPropagation();var r={};"piechartData"===l&&(r=a.state.piechartData[n]),a.setState({isModalOpen:!0,modalData:r})},a.upload_audio_file=function(e,t){if(""!==e&&t){a.setState({isProgressVisible:!0,messageData:{}});var n=new FormData;n.append(e,t),p.a.post("http://localhost:5000/upload_audio_file",n).then(function(e){a.setState({isProgressVisible:!1,messageData:e.data})}).catch(function(e){console.log(e)})}else a.setState({messageData:{status:"KO",message:"file name required"}})},a.convert_speech_to_text=function(e){""===e?a.setState({messageData:{status:"KO",message:"file name required"}}):(a.setState({isProgressVisible:!0,messageData:{}}),p.a.post("http://localhost:5000/convert_speech_to_text",{file_name:e}).then(function(e){a.setState({isProgressVisible:!1,messageData:e.data})}).catch(function(e){console.log(e)}))},a.find_entities=function(e){""===e?a.setState({messageData:{status:"KO",message:"file name required"}}):(a.setState({isProgressVisible:!0,messageData:{}}),p.a.post("http://localhost:5000/find_entities",{file_name:e}).then(function(e){a.setState({isProgressVisible:!1,messageData:e.data})}).catch(function(e){console.log(e)}))},a.cluster_sentence=function(e){""===e?a.setState({messageData:{status:"KO",message:"file name required"}}):(a.setState({isProgressVisible:!0,messageData:{}}),p.a.post("http://localhost:5000/cluster_sentence",{file_name:e}).then(function(e){a.setState({isProgressVisible:!1,messageData:e.data}),"OK"===e.data.status&&a.get_current_stats()}).catch(function(e){console.log(e)}))},a.state={piechartData:[],callCount:0,modalData:{},isSidebarOpen:!1,isModalOpen:!1,isProgressVisible:!1,whichIndex:0,messageData:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="6789ABCDEF"[Math.floor(10*Math.random())];return e}},{key:"componentDidMount",value:function(){this.get_current_stats()}},{key:"get_current_stats",value:function(){var e=this;p.a.get("https://10.77.63.156:2040/get_current_stats").then(function(t){var a=t.data.data,n=[];a.clusters.forEach(function(t,a){n.push({title:"Cluster "+a,description:t.description,value:t.count,color:e.getRandomColor()})}),e.setState({piechartData:n,callCount:a.number_of_calls})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(S,{piechartData:this.state.piechartData,callCount:this.state.callCount,piechart_tapped:this.piechart_tapped,toggle_sidebar:this.toggle_sidebar}),l.a.createElement(M,{open:this.state.isModalOpen,data:this.state.modalData,close_modal:this.close_modal}),l.a.createElement(re,{open:this.state.isSidebarOpen,toggle_sidebar:this.toggle_sidebar,upload_audio_file:this.upload_audio_file,convert_speech_to_text:this.convert_speech_to_text,find_entities:this.find_entities,cluster_sentence:this.cluster_sentence,isProgressVisible:this.state.isProgressVisible,messageData:this.state.messageData,reset_message:this.reset_message}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[119,1,2]]]);
//# sourceMappingURL=main.1d925e00.chunk.js.map